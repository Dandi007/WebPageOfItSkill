<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0037)http://kxjhlele.iteye.com/blog/323657 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>Java删除文件夹和文件 - 开心就好 - ITeye技术网站</title>
    <meta name="description" content="以前在javaeye看到过关于Java操作文件的一篇文章，写的很好，但找了半天也没找到，就把找到底几篇文章整理一下，做个总结，算是一个学习备份……   1，验证传入路径是否为正确的路径名(Windows系统，其他系统未使用)     // 验证字符串是否为正确路径名的正则表达式 private static String matches = &quot;[A-Za-z]:\\\\[^:?\&quot; ...">
    <meta name="keywords" content="Java, 正则表达式, Windows Java删除文件夹和文件">
    <link rel="shortcut icon" href="http://kxjhlele.iteye.com/images/favicon.ico" type="image/x-icon">
    <link rel="search" type="application/opensearchdescription+xml" href="http://kxjhlele.iteye.com/open_search.xml" title="ITeye">
    <link href="http://kxjhlele.iteye.com/rss" rel="alternate" title="开心就好" type="application/rss+xml">
    <link href="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/blog.css" media="screen" rel="stylesheet" type="text/css">
<link href="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/blue.css" media="screen" rel="stylesheet" type="text/css">
    <script type="text/javascript" async="" src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/ga.js"></script><script type="text/javascript" async="" src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/ga.js"></script><script src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/application.js" type="text/javascript"></script>
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-535605-1']);
  _gaq.push(['_setDomainName', 'iteye.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


      <link href="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/SyntaxHighlighter.css" media="screen" rel="stylesheet" type="text/css">
  <script src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/shCoreCommon.js" type="text/javascript"></script>
<script src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/hotkey.js" type="text/javascript"></script>
  <script src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/code_favorites.js" type="text/javascript"></script>
<script src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/weiboshare.js" type="text/javascript"></script>
  <style type="text/css">.dp-j .annotation { color: #646464; }.dp-j .number { color: #C00000; }</style><style type="text/css">.dp-j .annotation { color: #646464; }.dp-j .number { color: #C00000; }</style><style type="text/css">.dp-j .annotation { color: #646464; }.dp-j .number { color: #C00000; }</style><style type="text/css">.dp-j .annotation { color: #646464; }.dp-j .number { color: #C00000; }</style><style type="text/css">.dp-j .annotation { color: #646464; }.dp-j .number { color: #C00000; }</style><style type="text/css">.dp-j .annotation { color: #646464; }.dp-j .number { color: #C00000; }</style></head>
  <body>
    <div id="header">
      <div id="blog_site_nav">
  <a href="http://www.iteye.com/" class="homepage">首页</a>
  <a href="http://www.iteye.com/news">资讯</a>
  <a href="http://www.iteye.com/magazines">精华</a>
  <a href="http://www.iteye.com/forums">论坛</a>
  <a href="http://www.iteye.com/ask">问答</a>
  <a href="http://www.iteye.com/blogs">博客</a>
  <a href="http://www.iteye.com/blogs/subjects">专栏</a>
  <a href="http://www.iteye.com/groups">群组</a>
  <a href="http://kxjhlele.iteye.com/blog/323657#" onclick="return false;" id="msna"><u>更多</u> <small>▼</small></a>
  <div class="quick_menu" style="display:none;">
    <a target="_blank" href="http://job.iteye.com/iteye">招聘</a>
    <a href="http://www.iteye.com/search">搜索</a>
  </div>
</div>

      <div id="user_nav">
      <a href="http://kxjhlele.iteye.com/login" class="welcome" title="登录">您还未登录 !</a>
    <a href="http://kxjhlele.iteye.com/login">登录</a>
    <a href="http://kxjhlele.iteye.com/signup" class="nobg">注册</a>
  </div>

    </div>

    <div id="page">
      <div id="branding" class="clearfix">
        <div id="blog_name">
          <h1><a href="http://kxjhlele.iteye.com/">开心就好</a></h1>
        </div>
        <div id="fd"></div>
        <div id="blog_navbar">
          <ul>
            <li class="blog_navbar_for"><a href="http://kxjhlele.iteye.com/"><strong>博客</strong></a></li>
            <li><a href="http://kxjhlele.iteye.com/weibo">微博</a></li>
            <li><a href="http://kxjhlele.iteye.com/album">相册</a></li>
            <li><a href="http://kxjhlele.iteye.com/link">收藏</a></li>
            <li><a href="http://kxjhlele.iteye.com/blog/guest_book">留言</a></li>
            <li><a href="http://kxjhlele.iteye.com/blog/profile">关于我</a></li>
          </ul>
    
          <div class="search">
            <form action="http://kxjhlele.iteye.com/blog/search" method="get">
              <input class="search_text" id="query" name="query" style="margin-left: 10px;width: 110px;" type="text" value="">
              <input class="submit_search" type="submit" value="">
            </form>
          </div> 
          <div id="fd"></div>         
        </div>
      </div>
      
      <div id="content" class="clearfix">
        <div id="main">
          



          


<div class="h-entry" style="display:none">
  <a href="http://kxjhlele.iteye.com/" class="p-author" target="_blank">开心就好</a>
</div>


<div class="blog_main">
  <div class="blog_title">
    <h3>
      <a href="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/Java删除文件夹和文件 - 开心就好 - ITeye技术网站.htm">Java删除文件夹和文件</a>
      <em class="actions">      </em>
    </h3>
    <ul class="blog_categories"><strong>博客分类：</strong> <li><a href="http://kxjhlele.iteye.com/category/54378">Java 学习</a></li> </ul>
        <div class="news_tag"><a href="http://www.iteye.com/blogs/tag/Java">Java</a><a href="http://www.iteye.com/blogs/tag/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F">正则表达式</a><a href="http://www.iteye.com/blogs/tag/Windows">Windows</a>&nbsp;</div>
  </div>

  <div id="blog_content" class="blog_content">
    <p>以前在javaeye看到过关于Java操作文件的一篇文章，写的很好，但找了半天也没找到，就把找到底几篇文章整理一下，做个总结，算是一个学习备份……</p>
<p>&nbsp;</p>
<p>1，验证传入路径是否为正确的路径名(Windows系统，其他系统未使用)</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div class="dp-highlighter" id=""><div class="bar"><div class="tools">Java代码 <embed wmode="transparent" src="/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=%2F%2F%20%E9%AA%8C%E8%AF%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%98%AF%E5%90%A6%E4%B8%BA%E6%AD%A3%E7%A1%AE%E8%B7%AF%E5%BE%84%E5%90%8D%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%0Aprivate%20static%20String%20matches%20%3D%20%22%5BA-Za-z%5D%3A%5C%5C%5C%5C%5B%5E%3A%3F%5C%22%3E%3C*%5D*%22%3B%0A%2F%2F%20%E9%80%9A%E8%BF%87%20sPath.matches(matches)%20%E6%96%B9%E6%B3%95%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%AD%A3%E7%A1%AE%0A%2F%2F%20sPath%20%E4%B8%BA%E8%B7%AF%E5%BE%84%E5%AD%97%E7%AC%A6%E4%B8%B2" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer">&nbsp;<a href="javascript:void()" title="收藏这段代码" onclick="code_favorites_do_favorite(this);return false;"><img class="star" src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/icon_star.png" alt="收藏代码"><img class="spinner" src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/spinner.gif" style="display:none"></a></div></div><ol start="1" class="dp-j"><li><span><span class="comment">//&nbsp;验证字符串是否为正确路径名的正则表达式</span><span>&nbsp;&nbsp;</span></span></li><li><span><span class="keyword">private</span><span>&nbsp;</span><span class="keyword">static</span><span>&nbsp;String&nbsp;matches&nbsp;=&nbsp;</span><span class="string">"[A-Za-z]:\\\\[^:?\"&gt;&lt;*]*"</span><span>;&nbsp;&nbsp;</span></span></li><li><span><span class="comment">//&nbsp;通过&nbsp;sPath.matches(matches)&nbsp;方法的返回值判断是否正确</span><span>&nbsp;&nbsp;</span></span></li><li><span><span class="comment">//&nbsp;sPath&nbsp;为路径字符串</span><span>&nbsp;&nbsp;</span></span></li></ol></div><pre class="java" name="code" codeable_id="323657" codeable_type="Blog" source_url="http://kxjhlele.iteye.com/blog/323657" pre_index="0" title="Java删除文件夹和文件" style="display: none;">// 验证字符串是否为正确路径名的正则表达式
private static String matches = "[A-Za-z]:\\\\[^:?\"&gt;&lt;*]*";
// 通过 sPath.matches(matches) 方法的返回值判断是否正确
// sPath 为路径字符串</pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>2，通用的文件夹或文件删除方法，直接调用此方法，即可实现删除文件夹或文件，包括文件夹下的所有文件</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div class="dp-highlighter" id=""><div class="bar"><div class="tools">Java代码 <embed wmode="transparent" src="/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=%20%20%20%20%2F**%0A%20%20%20%20%20*%20%20%E6%A0%B9%E6%8D%AE%E8%B7%AF%E5%BE%84%E5%88%A0%E9%99%A4%E6%8C%87%E5%AE%9A%E7%9A%84%E7%9B%AE%E5%BD%95%E6%88%96%E6%96%87%E4%BB%B6%EF%BC%8C%E6%97%A0%E8%AE%BA%E5%AD%98%E5%9C%A8%E4%B8%8E%E5%90%A6%0A%20%20%20%20%20*%40param%20sPath%20%20%E8%A6%81%E5%88%A0%E9%99%A4%E7%9A%84%E7%9B%AE%E5%BD%95%E6%88%96%E6%96%87%E4%BB%B6%0A%20%20%20%20%20*%40return%20%E5%88%A0%E9%99%A4%E6%88%90%E5%8A%9F%E8%BF%94%E5%9B%9E%20true%EF%BC%8C%E5%90%A6%E5%88%99%E8%BF%94%E5%9B%9E%20false%E3%80%82%0A%20%20%20%20%20*%2F%0A%20%20%20%20public%20boolean%20DeleteFolder(String%20sPath)%20%7B%0A%20%20%20%20%20%20%20%20flag%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20file%20%3D%20new%20File(sPath)%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20%E5%88%A4%E6%96%AD%E7%9B%AE%E5%BD%95%E6%88%96%E6%96%87%E4%BB%B6%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%0A%20%20%20%20%20%20%20%20if%20(!file.exists())%20%7B%20%20%2F%2F%20%E4%B8%8D%E5%AD%98%E5%9C%A8%E8%BF%94%E5%9B%9E%20false%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20flag%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E4%B8%BA%E6%96%87%E4%BB%B6%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(file.isFile())%20%7B%20%20%2F%2F%20%E4%B8%BA%E6%96%87%E4%BB%B6%E6%97%B6%E8%B0%83%E7%94%A8%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E6%96%B9%E6%B3%95%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20deleteFile(sPath)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%20%20%2F%2F%20%E4%B8%BA%E7%9B%AE%E5%BD%95%E6%97%B6%E8%B0%83%E7%94%A8%E5%88%A0%E9%99%A4%E7%9B%AE%E5%BD%95%E6%96%B9%E6%B3%95%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20deleteDirectory(sPath)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer">&nbsp;<a href="javascript:void()" title="收藏这段代码" onclick="code_favorites_do_favorite(this);return false;"><img class="star" src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/icon_star.png" alt="收藏代码"><img class="spinner" src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/spinner.gif" style="display:none"></a></div></div><ol start="1" class="dp-j"><li><span><span class="comment">/**</span>&nbsp;</span></li><li><span><span class="comment">&nbsp;*&nbsp;&nbsp;根据路径删除指定的目录或文件，无论存在与否</span>&nbsp;</span></li><li><span><span class="comment">&nbsp;*@param&nbsp;sPath&nbsp;&nbsp;要删除的目录或文件</span>&nbsp;</span></li><li><span><span class="comment">&nbsp;*@return&nbsp;删除成功返回&nbsp;true，否则返回&nbsp;false。</span>&nbsp;</span></li><li><span><span class="comment">&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li><span><span class="keyword">public</span><span>&nbsp;</span><span class="keyword">boolean</span><span>&nbsp;DeleteFolder(String&nbsp;sPath)&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;flag&nbsp;=&nbsp;<span class="keyword">false</span><span>;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;file&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;File(sPath);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;判断目录或文件是否存在</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(!file.exists())&nbsp;{&nbsp;&nbsp;</span><span class="comment">//&nbsp;不存在返回&nbsp;false</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;flag;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword">else</span><span>&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;判断是否为文件</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(file.isFile())&nbsp;{&nbsp;&nbsp;</span><span class="comment">//&nbsp;为文件时调用删除文件方法</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;deleteFile(sPath);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword">else</span><span>&nbsp;{&nbsp;&nbsp;</span><span class="comment">//&nbsp;为目录时调用删除目录方法</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;deleteDirectory(sPath);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li><span>}&nbsp;&nbsp;</span></li></ol></div><pre class="java" name="code" codeable_id="323657" codeable_type="Blog" source_url="http://kxjhlele.iteye.com/blog/323657" pre_index="1" title="Java删除文件夹和文件" style="display: none;">    /**
     *  根据路径删除指定的目录或文件，无论存在与否
     *@param sPath  要删除的目录或文件
     *@return 删除成功返回 true，否则返回 false。
     */
    public boolean DeleteFolder(String sPath) {
        flag = false;
        file = new File(sPath);
        // 判断目录或文件是否存在
        if (!file.exists()) {  // 不存在返回 false
            return flag;
        } else {
            // 判断是否为文件
            if (file.isFile()) {  // 为文件时调用删除文件方法
                return deleteFile(sPath);
            } else {  // 为目录时调用删除目录方法
                return deleteDirectory(sPath);
            }
        }
    }</pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>3，实现删除文件的方法，</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div class="dp-highlighter" id=""><div class="bar"><div class="tools">Java代码 <embed wmode="transparent" src="/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=%20%20%20%20%2F**%0A%20%20%20%20%20*%20%E5%88%A0%E9%99%A4%E5%8D%95%E4%B8%AA%E6%96%87%E4%BB%B6%0A%20%20%20%20%20*%20%40param%20%20%20sPath%20%20%20%20%E8%A2%AB%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E7%9A%84%E6%96%87%E4%BB%B6%E5%90%8D%0A%20%20%20%20%20*%20%40return%20%E5%8D%95%E4%B8%AA%E6%96%87%E4%BB%B6%E5%88%A0%E9%99%A4%E6%88%90%E5%8A%9F%E8%BF%94%E5%9B%9Etrue%EF%BC%8C%E5%90%A6%E5%88%99%E8%BF%94%E5%9B%9Efalse%0A%20%20%20%20%20*%2F%0A%20%20%20%20public%20boolean%20deleteFile(String%20sPath)%20%7B%0A%20%20%20%20%20%20%20%20flag%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20file%20%3D%20new%20File(sPath)%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20%E8%B7%AF%E5%BE%84%E4%B8%BA%E6%96%87%E4%BB%B6%E4%B8%94%E4%B8%8D%E4%B8%BA%E7%A9%BA%E5%88%99%E8%BF%9B%E8%A1%8C%E5%88%A0%E9%99%A4%0A%20%20%20%20%20%20%20%20if%20(file.isFile()%20%26%26%20file.exists())%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20file.delete()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flag%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20flag%3B%0A%20%20%20%20%7D" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer">&nbsp;<a href="javascript:void()" title="收藏这段代码" onclick="code_favorites_do_favorite(this);return false;"><img class="star" src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/icon_star.png" alt="收藏代码"><img class="spinner" src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/spinner.gif" style="display:none"></a></div></div><ol start="1" class="dp-j"><li><span><span class="comment">/**</span>&nbsp;</span></li><li><span><span class="comment">&nbsp;*&nbsp;删除单个文件</span>&nbsp;</span></li><li><span><span class="comment">&nbsp;*&nbsp;@param&nbsp;&nbsp;&nbsp;sPath&nbsp;&nbsp;&nbsp;&nbsp;被删除文件的文件名</span>&nbsp;</span></li><li><span><span class="comment">&nbsp;*&nbsp;@return&nbsp;单个文件删除成功返回true，否则返回false</span>&nbsp;</span></li><li><span><span class="comment">&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li><span><span class="keyword">public</span><span>&nbsp;</span><span class="keyword">boolean</span><span>&nbsp;deleteFile(String&nbsp;sPath)&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;flag&nbsp;=&nbsp;<span class="keyword">false</span><span>;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;file&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;File(sPath);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;路径为文件且不为空则进行删除</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(file.isFile()&nbsp;&amp;&amp;&nbsp;file.exists())&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.delete();&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flag&nbsp;=&nbsp;<span class="keyword">true</span><span>;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;flag;&nbsp;&nbsp;</span></span></li><li><span>}&nbsp;&nbsp;</span></li></ol></div><pre class="java" name="code" codeable_id="323657" codeable_type="Blog" source_url="http://kxjhlele.iteye.com/blog/323657" pre_index="2" title="Java删除文件夹和文件" style="display: none;">    /**
     * 删除单个文件
     * @param   sPath    被删除文件的文件名
     * @return 单个文件删除成功返回true，否则返回false
     */
    public boolean deleteFile(String sPath) {
        flag = false;
        file = new File(sPath);
        // 路径为文件且不为空则进行删除
        if (file.isFile() &amp;&amp; file.exists()) {
            file.delete();
            flag = true;
        }
        return flag;
    }</pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>4，实现删除文件夹的方法，</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div class="dp-highlighter" id=""><div class="bar"><div class="tools">Java代码 <embed wmode="transparent" src="/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=%20%20%20%20%2F**%0A%20%20%20%20%20*%20%E5%88%A0%E9%99%A4%E7%9B%AE%E5%BD%95%EF%BC%88%E6%96%87%E4%BB%B6%E5%A4%B9%EF%BC%89%E4%BB%A5%E5%8F%8A%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6%0A%20%20%20%20%20*%20%40param%20%20%20sPath%20%E8%A2%AB%E5%88%A0%E9%99%A4%E7%9B%AE%E5%BD%95%E7%9A%84%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84%0A%20%20%20%20%20*%20%40return%20%20%E7%9B%AE%E5%BD%95%E5%88%A0%E9%99%A4%E6%88%90%E5%8A%9F%E8%BF%94%E5%9B%9Etrue%EF%BC%8C%E5%90%A6%E5%88%99%E8%BF%94%E5%9B%9Efalse%0A%20%20%20%20%20*%2F%0A%20%20%20%20public%20boolean%20deleteDirectory(String%20sPath)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%E5%A6%82%E6%9E%9CsPath%E4%B8%8D%E4%BB%A5%E6%96%87%E4%BB%B6%E5%88%86%E9%9A%94%E7%AC%A6%E7%BB%93%E5%B0%BE%EF%BC%8C%E8%87%AA%E5%8A%A8%E6%B7%BB%E5%8A%A0%E6%96%87%E4%BB%B6%E5%88%86%E9%9A%94%E7%AC%A6%0A%20%20%20%20%20%20%20%20if%20(!sPath.endsWith(File.separator))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20sPath%20%3D%20sPath%20%2B%20File.separator%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20File%20dirFile%20%3D%20new%20File(sPath)%3B%0A%20%20%20%20%20%20%20%20%2F%2F%E5%A6%82%E6%9E%9Cdir%E5%AF%B9%E5%BA%94%E7%9A%84%E6%96%87%E4%BB%B6%E4%B8%8D%E5%AD%98%E5%9C%A8%EF%BC%8C%E6%88%96%E8%80%85%E4%B8%8D%E6%98%AF%E4%B8%80%E4%B8%AA%E7%9B%AE%E5%BD%95%EF%BC%8C%E5%88%99%E9%80%80%E5%87%BA%0A%20%20%20%20%20%20%20%20if%20(!dirFile.exists()%20%7C%7C%20!dirFile.isDirectory())%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20flag%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%2F%2F%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8B%E7%9A%84%E6%89%80%E6%9C%89%E6%96%87%E4%BB%B6(%E5%8C%85%E6%8B%AC%E5%AD%90%E7%9B%AE%E5%BD%95)%0A%20%20%20%20%20%20%20%20File%5B%5D%20files%20%3D%20dirFile.listFiles()%3B%0A%20%20%20%20%20%20%20%20for%20(int%20i%20%3D%200%3B%20i%20%3C%20files.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%E5%88%A0%E9%99%A4%E5%AD%90%E6%96%87%E4%BB%B6%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(files%5Bi%5D.isFile())%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20flag%20%3D%20deleteFile(files%5Bi%5D.getAbsolutePath())%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!flag)%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%2F%2F%E5%88%A0%E9%99%A4%E5%AD%90%E7%9B%AE%E5%BD%95%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20flag%20%3D%20deleteDirectory(files%5Bi%5D.getAbsolutePath())%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!flag)%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(!flag)%20return%20false%3B%0A%20%20%20%20%20%20%20%20%2F%2F%E5%88%A0%E9%99%A4%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95%0A%20%20%20%20%20%20%20%20if%20(dirFile.delete())%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer">&nbsp;<a href="javascript:void()" title="收藏这段代码" onclick="code_favorites_do_favorite(this);return false;"><img class="star" src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/icon_star.png" alt="收藏代码"><img class="spinner" src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/spinner.gif" style="display:none"></a></div></div><ol start="1" class="dp-j"><li><span><span class="comment">/**</span>&nbsp;</span></li><li><span><span class="comment">&nbsp;*&nbsp;删除目录（文件夹）以及目录下的文件</span>&nbsp;</span></li><li><span><span class="comment">&nbsp;*&nbsp;@param&nbsp;&nbsp;&nbsp;sPath&nbsp;被删除目录的文件路径</span>&nbsp;</span></li><li><span><span class="comment">&nbsp;*&nbsp;@return&nbsp;&nbsp;目录删除成功返回true，否则返回false</span>&nbsp;</span></li><li><span><span class="comment">&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li><span><span class="keyword">public</span><span>&nbsp;</span><span class="keyword">boolean</span><span>&nbsp;deleteDirectory(String&nbsp;sPath)&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//如果sPath不以文件分隔符结尾，自动添加文件分隔符</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(!sPath.endsWith(File.separator))&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sPath&nbsp;=&nbsp;sPath&nbsp;+&nbsp;File.separator;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;File&nbsp;dirFile&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;File(sPath);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//如果dir对应的文件不存在，或者不是一个目录，则退出</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(!dirFile.exists()&nbsp;||&nbsp;!dirFile.isDirectory())&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;</span><span class="keyword">false</span><span>;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;flag&nbsp;=&nbsp;<span class="keyword">true</span><span>;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//删除文件夹下的所有文件(包括子目录)</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;File[]&nbsp;files&nbsp;=&nbsp;dirFile.listFiles();&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">for</span><span>&nbsp;(</span><span class="keyword">int</span><span>&nbsp;i&nbsp;=&nbsp;</span><span class="number">0</span><span>;&nbsp;i&nbsp;&lt;&nbsp;files.length;&nbsp;i++)&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//删除子文件</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(files[i].isFile())&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flag&nbsp;=&nbsp;deleteFile(files[i].getAbsolutePath());&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(!flag)&nbsp;</span><span class="keyword">break</span><span>;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="comment">//删除子目录</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">else</span><span>&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flag&nbsp;=&nbsp;deleteDirectory(files[i].getAbsolutePath());&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(!flag)&nbsp;</span><span class="keyword">break</span><span>;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(!flag)&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="keyword">false</span><span>;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//删除当前目录</span><span>&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(dirFile.delete())&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;</span><span class="keyword">true</span><span>;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword">else</span><span>&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;</span><span class="keyword">false</span><span>;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li><span>}&nbsp;&nbsp;</span></li></ol></div><pre class="java" name="code" codeable_id="323657" codeable_type="Blog" source_url="http://kxjhlele.iteye.com/blog/323657" pre_index="3" title="Java删除文件夹和文件" style="display: none;">    /**
     * 删除目录（文件夹）以及目录下的文件
     * @param   sPath 被删除目录的文件路径
     * @return  目录删除成功返回true，否则返回false
     */
    public boolean deleteDirectory(String sPath) {
        //如果sPath不以文件分隔符结尾，自动添加文件分隔符
        if (!sPath.endsWith(File.separator)) {
            sPath = sPath + File.separator;
        }
        File dirFile = new File(sPath);
        //如果dir对应的文件不存在，或者不是一个目录，则退出
        if (!dirFile.exists() || !dirFile.isDirectory()) {
            return false;
        }
        flag = true;
        //删除文件夹下的所有文件(包括子目录)
        File[] files = dirFile.listFiles();
        for (int i = 0; i &lt; files.length; i++) {
            //删除子文件
            if (files[i].isFile()) {
                flag = deleteFile(files[i].getAbsolutePath());
                if (!flag) break;
            } //删除子目录
            else {
                flag = deleteDirectory(files[i].getAbsolutePath());
                if (!flag) break;
            }
        }
        if (!flag) return false;
        //删除当前目录
        if (dirFile.delete()) {
            return true;
        } else {
            return false;
        }
    }</pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>5，main() 方法</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div class="dp-highlighter" id=""><div class="bar"><div class="tools">Java代码 <embed wmode="transparent" src="/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=%20%20%20%20public%20static%20void%20main(String%5B%5D%20args)%20%7B%0A%0A%20%20%20%20%20%20%20%20HandleFileClass%20hfc%20%3D%20new%20HandleFileClass()%3B%0A%20%20%20%20%20%20%20%20String%20path%20%3D%20%22D%3A%5C%5CAbc%5C%5C123%5C%5CAb1%22%3B%0A%20%20%20%20%20%20%20%20boolean%20result%20%3D%20hfc.CreateFolder(path)%3B%0A%20%20%20%20%20%20%20%20System.out.println(result)%3B%0A%20%20%20%20%20%20%20%20path%20%3D%20%22D%3A%5C%5CAbc%5C%5C124%22%3B%0A%20%20%20%20%20%20%20%20result%20%3D%20hfc.DeleteFolder(path)%3B%0A%20%20%20%20%20%20%20%20System.out.println(result)%3B%0A%0A%20%20%20%20%7D" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer">&nbsp;<a href="javascript:void()" title="收藏这段代码" onclick="code_favorites_do_favorite(this);return false;"><img class="star" src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/icon_star.png" alt="收藏代码"><img class="spinner" src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/spinner.gif" style="display:none"></a></div></div><ol start="1" class="dp-j"><li><span><span class="keyword">public</span><span>&nbsp;</span><span class="keyword">static</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;main(String[]&nbsp;args)&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;HandleFileClass&nbsp;hfc&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;HandleFileClass();&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;path&nbsp;=&nbsp;<span class="string">"D:\\Abc\\123\\Ab1"</span><span>;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">boolean</span><span>&nbsp;result&nbsp;=&nbsp;hfc.CreateFolder(path);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(result);&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;path&nbsp;=&nbsp;<span class="string">"D:\\Abc\\124"</span><span>;&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;hfc.DeleteFolder(path);&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(result);&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;</span></li><li><span>}&nbsp;&nbsp;</span></li></ol></div><pre class="java" name="code" codeable_id="323657" codeable_type="Blog" source_url="http://kxjhlele.iteye.com/blog/323657" pre_index="4" title="Java删除文件夹和文件" style="display: none;">    public static void main(String[] args) {

        HandleFileClass hfc = new HandleFileClass();
        String path = "D:\\Abc\\123\\Ab1";
        boolean result = hfc.CreateFolder(path);
        System.out.println(result);
        path = "D:\\Abc\\124";
        result = hfc.DeleteFolder(path);
        System.out.println(result);

    }</pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>main() 方法只是做了一个简单的测试，建立文件夹和文件都是本地建立，情况考虑的应该很全面了，包括文件夹包含文件夹、文件。文件的不同情况…………</p>
<p>&nbsp;</p>
<p>实现没有问题，可以正确删除文件夹和文件。</p>
<p>&nbsp;</p>
<p>对于其他类型文件的操作继续学习…………</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
  </div>

  


  <iframe src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/794.htm" scrolling="no" width="468" height="60" frameborder="0"></iframe>
  
  <div id="bottoms" class="clearfix">
    <div id="digg_bottom" class="clearfix"><div class="digged"><strong>16</strong> <br>顶</div><div class="digged"><strong>7</strong> <br>踩</div></div>
    <div id="share_weibo">分享到：
      <a data-type="sina" href="javascript:;" title="分享到新浪微博"><img src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/sina.jpg"></a>
      <a data-type="qq" href="javascript:;" title="分享到腾讯微博"><img src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/tec.jpg"></a>
    </div>
  </div>

  <div class="blog_nav">
    <div class="pre_next">
      <a href="http://kxjhlele.iteye.com/blog/324091" class="next" title="Java基础知识总结01">Java基础知识总结01</a>
      |
      <a href="http://kxjhlele.iteye.com/blog/322751" class="pre" title="常用 JDBC 驱动名字和 URL 列表">常用 JDBC 驱动名字和 URL 列表</a>
    </div>
  </div>
  <div class="blog_bottom">
    <ul>
      <li>2009-02-05 20:49</li>
      <li>浏览 79247</li>
      <li><a href="http://kxjhlele.iteye.com/blog/323657#comments">评论(8)</a></li>
      
      
      <li>分类:<a href="http://www.iteye.com/blogs/category/language">编程语言</a></li>      
      <li class="last"><a href="http://www.iteye.com/wiki/blog/323657" target="_blank" class="more">相关推荐</a></li>
    </ul>
  </div>

  <div class="blog_comment">
    <h5>评论</h5>
    <a id="comments" name="comments"></a>
    <div id="bc2357322">
  <div class="comment_title">
    8 楼
    <a href="http://ccing.iteye.com/" target="_blank" title="ccing">ccing</a>
    2014-08-28&nbsp;&nbsp;
    
    
  </div>
  <div class="comment_content">今天突然有个要删除文件夹或者删除文件的需要，懒得写，就网上搜索一下，看到你写的，可怎么写得这么复杂啊，太不优雅了，无奈，只好自己写一个吧，支持删除文件夹和文件的，传入路径即可。<br><br><div class="dp-highlighter" id=""><div class="bar"><div class="tools">Java代码 <embed wmode="transparent" src="/javascripts/syntaxhighlighter/clipboard_new.swf" width="14" height="15" flashvars="clipboard=%09%2F**%0A%09%20*%20%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E3%80%81%E6%96%87%E4%BB%B6%E5%A4%B9%0A%09%20*%2F%0A%09public%20static%20void%20deleteFile(String%20path)%20%7B%0A%09%09File%20file%20%3D%20new%20File(path)%3B%0A%09%09if%20(file.isDirectory())%20%7B%0A%09%09%09File%5B%5D%20ff%20%3D%20file.listFiles()%3B%0A%09%09%09for%20(int%20i%20%3D%200%3B%20i%20%3C%20ff.length%3B%20i%2B%2B)%20%7B%0A%09%09%09%09deleteFile(ff%5Bi%5D.getPath())%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%09file.delete()%3B%0A%09%7D%0A" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer">&nbsp;<a href="javascript:void()" title="收藏这段代码" onclick="code_favorites_do_favorite(this);return false;"><img class="star" src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/icon_star.png" alt="收藏代码"><img class="spinner" src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/spinner.gif" style="display:none"></a></div></div><ol start="1" class="dp-j"><li><span><span class="comment">/**</span>&nbsp;</span></li><li><span><span class="comment">&nbsp;*&nbsp;删除文件、文件夹</span>&nbsp;</span></li><li><span><span class="comment">&nbsp;*/</span><span>&nbsp;&nbsp;</span></span></li><li><span><span class="keyword">public</span><span>&nbsp;</span><span class="keyword">static</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;deleteFile(String&nbsp;path)&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;File&nbsp;file&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;File(path);&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(file.isDirectory())&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;File[]&nbsp;ff&nbsp;=&nbsp;file.listFiles();&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">for</span><span>&nbsp;(</span><span class="keyword">int</span><span>&nbsp;i&nbsp;=&nbsp;</span><span class="number">0</span><span>;&nbsp;i&nbsp;&lt;&nbsp;ff.length;&nbsp;i++)&nbsp;{&nbsp;&nbsp;</span></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deleteFile(ff[i].getPath());&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;file.delete();&nbsp;&nbsp;</span></li><li><span>}&nbsp;&nbsp;</span></li></ol></div><pre class="java" name="code" codeable_id="2357322" codeable_type="BlogComment" source_url="http://kxjhlele.iteye.com/blog/323657#bc2357322" pre_index="0" title="Java删除文件夹和文件" style="display: none;">	/**
	 * 删除文件、文件夹
	 */
	public static void deleteFile(String path) {
		File file = new File(path);
		if (file.isDirectory()) {
			File[] ff = file.listFiles();
			for (int i = 0; i &lt; ff.length; i++) {
				deleteFile(ff[i].getPath());
			}
		}
		file.delete();
	}
</pre></div>
</div>

<div id="bc2328552">
  <div class="comment_title">
    7 楼
    <a href="http://y234239150.iteye.com/" target="_blank" title="y234239150">y234239150</a>
    2013-10-17&nbsp;&nbsp;
    
    
  </div>
  <div class="comment_content">&nbsp;&nbsp;&nbsp; static void deleteDirectory(String dest)<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; File f = new File(dest);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (f.exists())<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (f.isDirectory())<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; File[] fs = f.listFiles();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (fs.length &gt; 0)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (File file : fs)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; deleteDirectory(file.getAbsolutePath());<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; f.delete();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; }</div>
</div>

<div id="bc2318829">
  <div class="comment_title">
    6 楼
    <a href="http://ywswen.iteye.com/" target="_blank" title="ywswen">ywswen</a>
    2013-07-16&nbsp;&nbsp;
    
    
  </div>
  <div class="comment_content">/**<br>	 *&nbsp;&nbsp; @生成时间： 2013-7-16 下午06:04:20<br>	 *&nbsp;&nbsp; @方法说明： 删除文件夹<br>	 *&nbsp;&nbsp; @参数：<br>	 *&nbsp;&nbsp; @返回值： <br>	 *&nbsp;&nbsp; @异常：<br>	 **/<br>	public static void deleteFolder(String folderPath){<br>		try{<br>			File file = new File(folderPath);<br>			if (file.isDirectory()) {<br>				for (File child : file.listFiles()) {<br>					deleteFolder(child.getAbsolutePath());<br>				}<br>				file.delete();<br>			} else {<br>				file.delete();<br>			}<br>		}catch(Exception ex){<br>			_log.error("文件夹【" + folderPath + "】删除失败！", ex);<br>		}<br>	}<br>这样删除有问题吗?谢谢</div>
</div>

<div id="bc2314573">
  <div class="comment_title">
    5 楼
    <a href="http://mengqingyu.iteye.com/" target="_blank" title="mengqingyu">mengqingyu</a>
    2013-06-07&nbsp;&nbsp;
    
    
  </div>
  <div class="comment_content"><div class="quote_title">googya 写道</div><div class="quote_div">这样删除文件之后，能恢复么？</div>
<br>用360恢复</div>
</div>

<div id="bc2278738">
  <div class="comment_title">
    4 楼
    <a href="http://diliya.iteye.com/" target="_blank" title="DiLiya">DiLiya</a>
    2012-08-27&nbsp;&nbsp;
    
    
  </div>
  <div class="comment_content"><div class="quote_title">LiHu0512 写道</div><div class="quote_div">这只能删除本地文件，，能不能删除服务器上文件夹下的文件？？？？？</div><br>根据路径删文件。。。楼主被踩得实在是冤啊！</div>
</div>

<div id="bc2276454">
  <div class="comment_title">
    3 楼
    <a href="http://fuchengyong.iteye.com/" target="_blank" title="fuchengyong">fuchengyong</a>
    2012-08-15&nbsp;&nbsp;
    
    
  </div>
  <div class="comment_content">可以将创建文件夹的方法发给我一份吗谢谢<br>455745367@qq.com</div>
</div>

<div id="bc2270666">
  <div class="comment_title">
    2 楼
    <a href="http://lihu0512.iteye.com/" target="_blank" title="LiHu0512">LiHu0512</a>
    2012-07-18&nbsp;&nbsp;
    
    
  </div>
  <div class="comment_content">这只能删除本地文件，，能不能删除服务器上文件夹下的文件？？？？？</div>
</div>

<div id="bc1341626">
  <div class="comment_title">
    1 楼
    <a href="http://googya.iteye.com/" target="_blank" title="googya">googya</a>
    2010-01-22&nbsp;&nbsp;
    
    
  </div>
  <div class="comment_content">这样删除文件之后，能恢复么？</div>
</div>


    
    
  </div>

  <div class="blog_comment">
    <h5>发表评论</h5>
            <p style="text-align:center; margin-top:30px;margin-bottom:0px;"><a href="http://kxjhlele.iteye.com/login" style="background-color:white;"> <img src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/login_icon.png" style="vertical-align:middle; margin-right: 10px;"></a><a href="http://kxjhlele.iteye.com/login">  您还没有登录,请您登录后再发表评论 </a></p>
      </div>
</div>


<script type="text/javascript">
  dp.SyntaxHighlighter.HighlightAll('code', true, true);

  $$('#main .blog_content pre[name=code]').each(function(pre, index){ // blog content
    var post_id = 323657;
    var location = window.location;
    source_url = location.protocol + "//" + location.host + location.pathname + location.search;
    pre.writeAttribute('codeable_id', post_id);
    pre.writeAttribute('codeable_type', "Blog");
    pre.writeAttribute('source_url', source_url);
    pre.writeAttribute('pre_index', index);
    pre.writeAttribute('title', 'Java删除文件夹和文件');
  });

  fix_image_size($$('div.blog_content img'), 700);

  function processComment() {
    $$('#main .blog_comment > div').each(function(comment){// comment
      var post_id = comment.id.substr(2);
      $$("#"+comment.id+" pre[name=code]").each(function(pre, index){
        var location = window.location;
        source_url = location.protocol + "//" + location.host + location.pathname + location.search;
        source_url += "#" + comment.id;
        pre.writeAttribute('codeable_id', post_id);
        pre.writeAttribute('codeable_type', "BlogComment");
        pre.writeAttribute('source_url', source_url);
        pre.writeAttribute('pre_index', index);
        pre.writeAttribute('title', 'Java删除文件夹和文件');
      });
    });
  }

  function quote_comment(id) {
    new Ajax.Request('/editor/quote', {
      parameters: {'id':id, 'type':'BlogComment'},
      onSuccess:function(response){editor.bbcode_editor.textarea.insertAfterSelection(response.responseText);
        Element.scrollTo(editor.bbcode_editor.textarea.element);}
    });
  }

  code_favorites_init();
  processComment();
  new WeiboShare({share_buttons: $('share_weibo'), img_scope: $('blog_content')});
</script>




        </div>

        <div id="local">
          <div class="local_top"></div>
          <div id="blog_owner">
  <div id="blog_owner_logo"><a href="http://kxjhlele.iteye.com/"><img alt="开心就好的博客" class="logo" src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/b9a05aa3-a3af-3b50-ac5b-641c25be152c.jpg" title="开心就好的博客: 开心就好" width=""></a></div>
  <div id="blog_owner_name">开心就好</div>
</div>

          <div id="blog_actions">
            <ul>
              <li>浏览: 211802 次</li>
              <li>性别: <img alt="Icon_minigender_1" src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/icon_minigender_1.gif" title="男"></li>
              <li>来自: 石家庄</li>
              <li><img src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/offline.gif"></li>
              
            </ul>
          </div>
          <div id="user_visits" class="clearfix">
            <h5>最近访客 <span style="font-weight:normal;font-size:12px;padding-left:30px;"><a href="http://kxjhlele.iteye.com/blog/user_visits">更多访客&gt;&gt;</a></span></h5>
            
              <div class="user_visit">
                <div class="logo"><a href="http://dylinshi126.iteye.com/" target="_blank"><img alt="dylinshi126的博客" class="logo" src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/user-logo-thumb.gif" title="dylinshi126的博客: " width="48px"></a></div>
                <div class="left"><a href="http://dylinshi126.iteye.com/" target="_blank" title="dylinshi126">dylinshi126</a></div>
              </div>
            
              <div class="user_visit">
                <div class="logo"><a href="http://awake0474.iteye.com/" target="_blank"><img alt="awake0474的博客" class="logo" src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/user-logo-thumb.gif" title="awake0474的博客: " width="48px"></a></div>
                <div class="left"><a href="http://awake0474.iteye.com/" target="_blank" title="awake0474">awake0474</a></div>
              </div>
            
              <div class="user_visit">
                <div class="logo"><a href="http://158830710.iteye.com/" target="_blank"><img alt="惊蛰小爷的博客" class="logo" src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/user-logo-thumb.gif" title="惊蛰小爷的博客: " width="48px"></a></div>
                <div class="left"><a href="http://158830710.iteye.com/" target="_blank" title="惊蛰小爷">惊蛰小爷</a></div>
              </div>
            
              <div class="user_visit">
                <div class="logo"><a href="http://lhlseeklove.iteye.com/" target="_blank"><img alt="lhlseeklove的博客" class="logo" src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/user-logo-thumb.gif" title="lhlseeklove的博客: " width="48px"></a></div>
                <div class="left"><a href="http://lhlseeklove.iteye.com/" target="_blank" title="lhlseeklove">lhlseeklove</a></div>
              </div>
            
          </div>

          

                      <div id="blog_menu">
              <h5>文章分类</h5>
              <ul>
                <li><a href="http://kxjhlele.iteye.com/">全部博客 (48)</a></li>
                
                  <li><a href="http://kxjhlele.iteye.com/category/54378">Java 学习 (16)</a></li>
                
                  <li><a href="http://kxjhlele.iteye.com/category/54379">数据库 学习 (1)</a></li>
                
                  <li><a href="http://kxjhlele.iteye.com/category/61334">NetBeans 使用 (1)</a></li>
                
                  <li><a href="http://kxjhlele.iteye.com/category/54380">个人随笔 (22)</a></li>
                
                  <li><a href="http://kxjhlele.iteye.com/category/54396">Java编程思想_学习笔记 (0)</a></li>
                
                  <li class="selected"><a href="http://kxjhlele.iteye.com/category/62932">Hibernate 学习 (3)</a></li>
                
              </ul>
            </div>
            <div id="month_blogs">
              <h5>社区版块</h5>
              <ul>
                <li><a href="http://kxjhlele.iteye.com/blog/news">我的资讯</a> (0)</li>
                <li>
                  <a href="http://kxjhlele.iteye.com/blog/post">我的论坛</a> (9)
                </li>
                <li><a href="http://kxjhlele.iteye.com/blog/answered_problems">我的问答</a> (4)</li>
              </ul>
            </div>
            <div id="month_blogs">
              <h5>存档分类</h5>
              <ul>
                
                  <li><a href="http://kxjhlele.iteye.com/blog/monthblog/2010-04">2010-04</a> (3)</li>
                
                  <li><a href="http://kxjhlele.iteye.com/blog/monthblog/2010-03">2010-03</a> (1)</li>
                
                  <li><a href="http://kxjhlele.iteye.com/blog/monthblog/2009-05">2009-05</a> (3)</li>
                
                <li><a href="http://kxjhlele.iteye.com/blog/monthblog_more">更多存档...</a></li>
              </ul>
            </div>
            
            

            <div id="guest_books">
              <h5>最新评论</h5>
              <ul>
                
                <li>
                  <a href="http://ccing.iteye.com/" target="_blank" title="ccing">ccing</a>： 
                  今天突然有个要删除文件夹或者删除文件的需要，懒得写，就网上搜索 ...<br>
                  <a href="http://kxjhlele.iteye.com/blog/323657#bc2357322">Java删除文件夹和文件</a>
                </li>
                
                <li>
                  <a href="http://springmvc168.iteye.com/" target="_blank" title="springmvc168">springmvc168</a>： 
                  Java 操作 Excel 代码下载：<br>
                  <a href="http://kxjhlele.iteye.com/blog/321392#bc2349246">Java 操作 Excel (读取Excel2007，Poi实现)</a>
                </li>
                
                <li>
                  <a href="http://hft24dq.iteye.com/" target="_blank" title="hft24dq">hft24dq</a>： 
                  启动总是报错。Caused by: java.lang.Nul ...<br>
                  <a href="http://kxjhlele.iteye.com/blog/321392#bc2345221">Java 操作 Excel (读取Excel2007，Poi实现)</a>
                </li>
                
                <li>
                  <a href="http://y234239150.iteye.com/" target="_blank" title="y234239150">y234239150</a>： 
                  &nbsp;&nbsp;&nbsp; static void deleteDirectory ...<br>
                  <a href="http://kxjhlele.iteye.com/blog/323657#bc2328552">Java删除文件夹和文件</a>
                </li>
                
                <li>
                  <a href="http://ywswen.iteye.com/" target="_blank" title="ywswen">ywswen</a>： 
                  /**	 *&nbsp;&nbsp; @生成时间： 2013-7-16 下午06: ...<br>
                  <a href="http://kxjhlele.iteye.com/blog/323657#bc2318829">Java删除文件夹和文件</a>
                </li>
                
              </ul>
            </div>

            <div class="local_bottom"></div>
          
        </div>
      </div>

      <div id="footer" class="clearfix">
        <div id="copyright">
          <hr>
          声明：ITeye文章版权属于作者，受法律保护。没有作者书面许可不得转载。若作者同意转载，必须以超链接形式标明文章原始出处和作者。<br>
          © 2003-2014 ITeye.com.   All rights reserved.  [ 京ICP证110151号  京公网安备110105010620 ]
        </div>
      </div>
    </div>
    <script type="text/javascript">
  document.write("<img src='http://stat.iteye.com/?url="+ encodeURIComponent(document.location.href) + "&referrer=" + encodeURIComponent(document.referrer) + "&user_id=' width='0' height='0' />");
</script><img src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/saved_resource" width="0" height="0">

<script src="./Java删除文件夹和文件 - 开心就好 - ITeye技术网站_files/tracking.js" type="text/javascript"></script>

    
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA_7206448-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
      
    
  

</body></html>